version: "3.5"

x-env_file:
  &mysql-envfile
  env_file:
    - docker/mysql.env

services:

  db:
    image: mysql:5.7
    networks:
      - services
      - private
    environment:
      MYSQL_ROOT_PASSWORD: ${SPRYKER_DB_PASSWORD}
      LANG: C.UTF-8
    volumes:
      - db-data:/var/lib/mysql:rw
      - ./docker/context/mysql/my.cnf:/etc/mysql/my.cnf:ro
    ports:
      - 3306:3306

  zed_de:
    <<: *mysql-envfile

  zed_at:
    <<: *mysql-envfile

  zed_us:
    <<: *mysql-envfile

  glue_de:
    <<: *mysql-envfile

  glue_at:
    <<: *mysql-envfile

  glue_us:
    <<: *mysql-envfile

  yves_de:
    <<: *mysql-envfile

  yves_at:
    <<: *mysql-envfile

  yves_us:
    <<: *mysql-envfile

  scheduler:
    <<: *mysql-envfile
