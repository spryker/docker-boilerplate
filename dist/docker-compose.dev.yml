version: "3.5"

x-volumes:
  &dev-volumes
  volumes:
    - ./docker/context/php/conf.d/opcache_dev.ini:/etc/php7/conf.d/opcache.ini
    - .:/data

x-env_file:
  &dev-envfile
  env_file:
    - docker/dev.env

services:

  yves_de:
    <<: *dev-envfile
    <<: *dev-volumes

  yves_at:
    <<: *dev-envfile
    <<: *dev-volumes

  yves_us:
    <<: *dev-envfile
    <<: *dev-volumes

  glue_de:
    <<: *dev-envfile
    <<: *dev-volumes

  glue_at:
    <<: *dev-envfile
    <<: *dev-volumes

  glue_us:
    <<: *dev-envfile
    <<: *dev-volumes

  zed_de:
    <<: *dev-envfile
    <<: *dev-volumes

  zed_at:
    <<: *dev-envfile
    <<: *dev-volumes

  zed_us:
    <<: *dev-envfile
    <<: *dev-volumes

  scheduler:
    <<: *dev-envfile
    <<: *dev-volumes

  nginx_frontend:
    volumes:
        - ./docker/context/nginx/vhost.d_dev/default_dev:/etc/nginx/vhost.d/default
        - ./public:/data/public

volumes:
  assets:
