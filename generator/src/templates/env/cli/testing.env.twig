SPRYKER_TESTING_ENABLED=1

# WEBDRIVER
SPRYKER_TEST_USE_REMOTE_WEB_DRIVER=true
SPRYKER_TEST_WEB_DRIVER_HOST=webdriver
{% include "env/webdriver/#{projectServices['webdriver']['engine']}.env.twig" with {
    serviceData: projectServices['webdriver'],
    serviceName: 'webdriver'
} %}

{% if applications['yves'] is not empty %}
SPRYKER_FE_HOST={{ applications['yves']['endpoint'] | split(':') | first }}
SPRYKER_FE_PORT={{ (applications['yves']['endpoint'] | split(':'))[1] | default(defaultPort) }}
{% include "env/session-fe/#{projectServices['session']['engine']}.env.twig" with {
    serviceData: projectServices['session'],
    serviceName: 'session'
} %}
{% endif %}

{% if applications['glue'] is not empty %}
SPRYKER_API_HOST={{ applications['glue']['endpoint'] | split(':') | first }}
SPRYKER_API_PORT={{ (applications['glue']['endpoint'] | split(':'))[1] | default(defaultPort) }}
{% endif %}

{% if applications['backoffice'] is not empty %}
SPRYKER_BE_HOST={{ applications['backoffice']['endpoint'] | split(':') | first }}
SPRYKER_BE_PORT={{ (applications['backoffice']['endpoint'] | split(':'))[1] | default(defaultPort) }}
{% endif %}

# For Codeception innerBrowser
SPRYKER_SSL_ENABLED=0

# STORE SPECIFIC
{% set applicationSpec = applications['backend-gateway'] ?? applications['zed'] %}
APPLICATION_STORE={{ storeName }}
SPRYKER_ZED_HOST={{ endpointMap[storeName]['backend-gateway'] | split(':') | first }}
SPRYKER_ZED_PORT={{ (endpointMap[storeName]['backend-gateway'] | split(':'))[1] | default(defaultPort) }}
SPRYKER_SEARCH_NAMESPACE={{ applicationSpec['services']['search']['namespace'] }}
SPRYKER_KEY_VALUE_STORE_NAMESPACE={{ applicationSpec['services']['key_value_store']['namespace'] }}
SPRYKER_BROKER_NAMESPACE={{ applicationSpec['services']['broker']['namespace'] }}
{% if applications['yves'] is not empty %}
SPRYKER_SESSION_FE_NAMESPACE={{ applications['yves']['services']['session']['namespace'] }}
{% endif %}
